<header
  class="header"
  [class.scrolled]="isScrolled"
  [class.mobile-open]="isMobileMenuOpen"
>
  <div class="container">
    <div class="header-content">
      <div class="logo-container">
        <a routerLink="/" class="logo-link">
          <img
            [src]="isDark ? 'assets/images/logo.png' : 'assets/images/logo.png'"
            alt="InfluMatch logo"
            class="logo"
          />
        </a>
      </div>

      <!-- Desktop Navigation -->
      <nav class="nav-desktop">
        <ul class="nav-links">
          <li *ngFor="let item of navItems">
            <a
              [routerLink]="item.route"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: item.exact }"
              (click)="scrollToSection(item.section)"
            >
              {{ item.label | translate }}
            </a>
          </li>
        </ul>
      </nav>

      <div class="header-actions">
        <!-- Language Selector -->
        <div class="language-selector">
          <button
            class="lang-btn"
            [class.active]="currentLang === 'en'"
            (click)="changeLang('en')"
            aria-label="English"
          >
            EN
          </button>
          <span class="lang-divider">|</span>
          <button
            class="lang-btn"
            [class.active]="currentLang === 'es'"
            (click)="changeLang('es')"
            aria-label="Español"
          >
            ES
          </button>
        </div>

        <!-- Theme Toggle -->
        <button
          class="theme-toggle"
          (click)="toggleTheme()"
          aria-label="Toggle theme"
        >
          <mat-icon *ngIf="isDark">light_mode</mat-icon>
          <mat-icon *ngIf="!isDark">dark_mode</mat-icon>
        </button>

        <!-- Mobile Menu Toggle -->
        <button
          class="mobile-toggle"
          (click)="toggleMobileMenu()"
          aria-label="Toggle mobile menu"
        >
          <mat-icon>{{ isMobileMenuOpen ? "close" : "menu" }}</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <div class="mobile-menu" [class.open]="isMobileMenuOpen">
    <div class="container">
      <nav class="nav-mobile">
        <ul class="mobile-nav-links">
          <li *ngFor="let item of navItems">
            <a
              [routerLink]="item.route"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: item.exact }"
              (click)="mobileNavClick(item.section)"
            >
              <mat-icon *ngIf="item.icon">{{ item.icon }}</mat-icon>
              {{ item.label | translate }}
            </a>
          </li>
        </ul>

        <div class="mobile-actions">
          <div class="mobile-language-selector">
            <span>{{ "HEADER.LANGUAGE" | translate }}:</span>
            <div class="mobile-lang-buttons">
              <button
                class="mobile-lang-btn"
                [class.active]="currentLang === 'en'"
                (click)="changeLang('en')"
              >
                English
              </button>
              <button
                class="mobile-lang-btn"
                [class.active]="currentLang === 'es'"
                (click)="changeLang('es')"
              >
                Español
              </button>
            </div>
          </div>

          <div class="mobile-theme-toggle">
            <span>{{ "HEADER.THEME" | translate }}:</span>
            <button class="mobile-theme-btn" (click)="toggleTheme()">
              <mat-icon>{{ isDark ? "light_mode" : "dark_mode" }}</mat-icon>
              {{
                isDark
                  ? ("HEADER.LIGHT_MODE" | translate)
                  : ("HEADER.DARK_MODE" | translate)
              }}
            </button>
          </div>
        </div>
      </nav>
    </div>
  </div>
</header>
