<div class="login-container" [ngClass]="{ 'dark-mode': isDark }">
  <div class="login-left">
    <div class="video-container">
      <video class="background-video" autoplay loop muted playsinline>
        <source
          src="../../../../../assets/video/background-wave.mp4"
          type="video/mp4"
        />
      </video>
    </div>
    <div class="logo">
      <img
        src="../../../../../assets/images/logo-dark.png"
        alt="InfluMatch Logo"
      />
    </div>
    <h1 class="welcome-text">¡Bienvenido de nuevo!</h1>
  </div>

  <div class="login-right">
    <div class="login-form-container">
      <h2>InfluMatch</h2>
      <p class="subtitle">Inicia sesión para continuar</p>

      <form [formGroup]="form" (ngSubmit)="submit()" class="login-form">
        <mat-form-field appearance="outline">
          <mat-label>Correo electrónico</mat-label>
          <input matInput formControlName="email" type="email" required />
          <mat-error *ngIf="form.get('email')?.hasError('required')">
            El correo electrónico es obligatorio
          </mat-error>
          <mat-error *ngIf="form.get('email')?.hasError('email')">
            Ingresa un correo electrónico válido
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            formControlName="password"
            [type]="hide ? 'password' : 'text'"
            required
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            type="button"
          >
            <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
          </button>
          <mat-error *ngIf="form.get('password')?.hasError('required')">
            La contraseña es obligatoria
          </mat-error>
        </mat-form-field>

        <div class="form-actions">
          <mat-checkbox color="primary">Recordarme</mat-checkbox>
          <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>
        </div>

        <button
          mat-flat-button
          color="primary"
          type="submit"
          class="login-button"
          [disabled]="form.invalid"
        >
          Iniciar sesión
        </button>
      </form>

      <div class="register-link">
        ¿No tienes cuenta? <a href="/register">Regístrate</a>
      </div>
    </div>
  </div>
</div>
